;;; -*- Lisp -*-



(progn
 (def-test-system :versioned-system-1
   :pathname #.*test-directory*
   :version "1.0")

 (def-test-system :versioned-system-2
   :pathname #.*test-directory*
   :version "1.1")

 (def-test-system :versioned-system-3
   :pathname #.*test-directory*
   :version "1.2")

 (flet ((test (name v &optional (true t))
          (or (eq true (version-satisfies (find-system name) v))
              (error "no satisfaction: ~S version ~A not ~A" name v true))))
   (test :versioned-system-1 "1.0")
   (test :versioned-system-2 "1.0")
   (test :versioned-system-3 "2.0" nil)))
